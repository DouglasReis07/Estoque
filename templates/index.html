<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Controle de Estoque</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/cards.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/sidebar.css') }}">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <nav class="sidebar">
        <div class="sidebar-header">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" /></svg>
            <span class="link-text logo-text">Meu Estoque</span>
        </div>
        <ul class="sidebar-links">
            <li><a href="{{ url_for('dashboard') }}"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 3v11.25A2.25 2.25 0 006 16.5h12A2.25 2.25 0 0020.25 14.25V3m-16.5 0h16.5m-16.5 0H3.75A2.25 2.25 0 001.5 5.25v13.5A2.25 2.25 0 003.75 21h16.5a2.25 2.25 0 002.25-2.25V5.25A2.25 2.25 0 0018 3h-3.75m-4.5 0h4.5m-4.5 0a2.25 2.25 0 012.25-2.25h3.75a2.25 2.25 0 012.25 2.25m-4.5 0V3m-4.5 0V3m-4.5 0a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 003.75 21h3.75m-4.5-18h4.5" /></svg><span class="link-text">Dashboard</span></a></li>
            <li><a href="{{ url_for('estoque_page') }}"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 7.125C2.25 6.504 2.754 6 3.375 6h6c.621 0 1.125.504 1.125 1.125v3.75c0 .621-.504 1.125-1.125 1.125h-6A1.125 1.125 0 012.25 12v-4.875zM12 15a.75.75 0 01.75-.75h6a.75.75 0 010 1.5h-6A.75.75 0 0112 15zm1.5-6a.75.75 0 01.75-.75h6a.75.75 0 010 1.5h-6a.75.75 0 01-.75-.75zM12 6a.75.75 0 01.75-.75h6a.75.75 0 010 1.5h-6A.75.75 0 0112 6zM2.25 15.125c0-.621.504-1.125 1.125-1.125h6c.621 0 1.125.504 1.125 1.125v3.75c0 .621-.504 1.125-1.125 1.125h-6A1.125 1.125 0 012.25 19v-3.875z" /></svg><span class="link-text">Estoque</span></a></li>
        </ul>
    </nav>
    
    <header class="page-header">
        <h1>Dashboard de Estoque</h1>
    </header>

    <div class="content-wrapper">
        <main>
            <section class="cards-container">
                <div class="card"><h3>Total de Entradas (Mês)</h3><p id="card-total-entradas-mes">0</p></div>
                <div class="card"><h3>Total de Saídas (Mês)</h3><p id="card-total-saidas-mes">0</p></div>
                <div class="card"><h3>Total de Gastos</h3><p>R$ <span id="card-total-gastos">0.00</span></p></div>
            </section>
            <section class="main-content">
                <div class="forms-section">
                    <div class="form-card">
                        <h2>Adicionar Novo Produto</h2>
                        <form id="form-add-produto">
                            <input type="text" id="nome-produto" placeholder="Nome do Produto" required>
                            <input type="number" id="qtd-produto" placeholder="Quantidade Inicial" min="0" value="0" required>
                            <input type="number" id="custo-produto" placeholder="Preço de Custo" step="0.01" min="0" value="0" required>
                            <button type="submit">Adicionar Produto</button>
                        </form>
                    </div>
                    <div class="form-card">
                        <h2>Registrar Movimentação</h2>
                        <form id="form-movimentacao">
                            <select id="select-produto" required><option value="">Selecione um produto...</option></select>
                            <select id="tipo-movimentacao" required><option value="entrada">Entrada</option><option value="saida">Saída</option></select>
                            <input type="number" id="qtd-movimentacao" placeholder="Quantidade" min="1" required>
                            <textarea id="desc-movimentacao" placeholder="Descrição (opcional)"></textarea>
                            <button type="submit">Registrar</button>
                        </form>
                    </div>
                     <div class="form-card">
                        <h2>Registrar Gasto</h2>
                        <form id="form-gasto">
                            <input type="number" id="valor-gasto" placeholder="Valor do Gasto (R$)" step="0.01" min="0" required>
                            <textarea id="desc-gasto" placeholder="Descrição do Gasto" required></textarea>
                            <button type="submit">Registrar Gasto</button>
                        </form>
                    </div>
                </div>
                <div class="chart-container">
                    <h2>Produtos Mais Movimentados</h2>
                    <canvas id="movimentacoesChart"></canvas>
                </div>
            </section>
        </main>
        <footer><p>Sistema de Controle de Estoque &copy; 2025</p></footer>
    </div>
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>