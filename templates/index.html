<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Controle de Estoque</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/sidebar.css') }}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <nav class="sidebar">
        <div class="sidebar-header">
            <i class="bi bi-box-seam"></i>
            <span class="link-text logo-text">Meu Estoque</span>
        </div>

        <ul class="sidebar-links">
            <li><a href="{{ url_for('dashboard') }}"><i class="bi bi-speedometer2"></i><span class="link-text"> Dashboard </span></a></li>
            <li><a href="{{ url_for('estoque_page') }}"><i class="bi bi-box-seam"></i><span class="link-text"> Estoque</span></a></li>
            <li><a href="{{ url_for('movimentacoes_page') }}"><i class="bi bi-arrow-left-right"></i><span class="link-text"> Movimentações</span></a></li>
        </ul>

        <div class="sidebar-footer">
            <div class="link-text">
                <div class="dark-mode-toggle">
                    <input type="checkbox" id="dark-mode-checkbox">
                    <label for="dark-mode-checkbox"></label>
                </div>
            </div>
            <span class="link-text logo-text">GARRY PRO</span>
        </div>
    </nav>

    <header class="page-header">
        <h2><i class="bi bi-speedometer2"></i> Dashboard de Estoque</h2>
    </header>

    <div class="content-wrapper">
        <main>
            <section class="cards-container">
                <div class="card"><h3><i class="bi bi-arrow-down-circle"></i> Total de Entradas (Mês)</h3><p id="card-total-entradas-mes">0</p></div>
                <div class="card"><h3><i class="bi bi-arrow-up-circle"></i> Total de Saídas (Mês)</h3><p id="card-total-saidas-mes">0</p></div>
                <div class="card"><h3><i class="bi bi-cash-stack"></i> Total de Gastos (Mês)</h3><p>R$ <span id="card-total-gastos">0.00</span></p></div>
            </section>
            
            <section class="main-content">
                <div class="forms-section">
                    <div class="form-card">
                        <h4><i class="bi bi-plus-circle"></i> Adicionar Novo Produto</h4>
                        <form id="form-add-produto">
                            <input type="text" id="nome-produto" placeholder="Nome do Produto" required>
                            <input type="number" id="qtd-produto" placeholder="Quantidade Inicial" min="0" value="0" required>
                            <input type="number" id="custo-produto" placeholder="Preço de Custo" step="0.01" min="0" value="0" required>
                            <button type="submit"><i class="bi bi-check-circle"></i> Adicionar Produto</button>
                        </form>
                    </div>
                    <div class="form-card">
                        <h4><i class="bi bi-arrow-left-right"></i> Registrar Movimentação</h4>
                        <form id="form-movimentacao">
                            <select id="select-produto" required><option value="">Selecione um produto...</option></select>
                            <select id="tipo-movimentacao" required>
                                <option value="entrada">Entrada</option>
                                <option value="saida">Saída</option>
                            </select>
                            <input type="number" id="qtd-movimentacao" placeholder="Quantidade" min="1" required>
                            <textarea id="desc-movimentacao" placeholder="Descrição (opcional)"></textarea>
                            <button type="submit"><i class="bi bi-check-circle"></i> Registrar</button>
                        </form>
                    </div>
                     <div class="form-card">
                        <h4><i class="bi bi-cash-coin"></i> Registrar Gasto</h4>
                        <form id="form-gasto">
                            <input type="number" id="valor-gasto" placeholder="Valor do Gasto (R$)" step="0.01" min="0" required>
                            <textarea id="desc-gasto" placeholder="Descrição do Gasto" required></textarea>
                            <button type="submit"><i class="bi bi-check-circle"></i> Registrar Gasto</button>
                        </form>
                    </div>
                </div>
                <div class="chart-container">
                    <h4><i class="bi bi-graph-up"></i> Produtos Mais Movimentados</h4>
                    <canvas id="movimentacoesChart"></canvas>
                </div>
            </section>
        </main>
        
        <footer>
            <p><i class="bi bi-box-seam"></i> GARRY PRO - Sistema de Controle de Estoque &copy; 2025</p>
        </footer>
    </div>
    
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>